<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shaka Player Embedded: shaka::media::MediaProcessor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shaka Player Embedded
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceshaka.html">shaka</a></li><li class="navelem"><a class="el" href="namespaceshaka_1_1media.html">media</a></li><li class="navelem"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html">MediaProcessor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classshaka_1_1media_1_1MediaProcessor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">shaka::media::MediaProcessor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="media__processor_8h_source.html">media_processor.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor_1_1Impl.html">Impl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8337308c137392f36c3e76afe4eb5d66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#a8337308c137392f36c3e76afe4eb5d66">MediaProcessor</a> (const std::string &amp;<a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#af9a5e3427a21d882b2ae5b3a85387950">container</a>, const std::string &amp;<a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#ae671418fac85556b74cd3e13b138dc9b">codec</a>, std::function&lt; void(<a class="el" href="group__eme.html#gadf03d085b5131351975708008dffeeac">eme::MediaKeyInitDataType</a>, const uint8_t *, size_t)&gt; on_encrypted_init_data)</td></tr>
<tr class="separator:a8337308c137392f36c3e76afe4eb5d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02249c1b936ffd91488814af51f1c499"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#a02249c1b936ffd91488814af51f1c499">~MediaProcessor</a> ()</td></tr>
<tr class="separator:a02249c1b936ffd91488814af51f1c499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c69449ef9837c20d4017506d5262bcc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#a7c69449ef9837c20d4017506d5262bcc">NON_COPYABLE_OR_MOVABLE_TYPE</a> (<a class="el" href="classshaka_1_1media_1_1MediaProcessor.html">MediaProcessor</a>)</td></tr>
<tr class="separator:a7c69449ef9837c20d4017506d5262bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbeb7e55cba4de30727f23d1a877b71a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#abbeb7e55cba4de30727f23d1a877b71a">duration</a> () const</td></tr>
<tr class="separator:abbeb7e55cba4de30727f23d1a877b71a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2101c5ec75a1f281fad4c0d1c8980e"><td class="memItemLeft" align="right" valign="top">virtual Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#a6a2101c5ec75a1f281fad4c0d1c8980e">InitializeDemuxer</a> (std::function&lt; size_t(uint8_t *, size_t)&gt; on_read, std::function&lt; void()&gt; on_reset_read)</td></tr>
<tr class="separator:a6a2101c5ec75a1f281fad4c0d1c8980e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7bf169ce903818f2467b078edd77ac"><td class="memItemLeft" align="right" valign="top">virtual Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#a7c7bf169ce903818f2467b078edd77ac">ReadDemuxedFrame</a> (std::unique_ptr&lt; <a class="el" href="classshaka_1_1media_1_1BaseFrame.html">BaseFrame</a> &gt; *frame)</td></tr>
<tr class="separator:a7c7bf169ce903818f2467b078edd77ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f16b930ff61cda40db244161bcee79b"><td class="memItemLeft" align="right" valign="top">virtual Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#a7f16b930ff61cda40db244161bcee79b">DecodeFrame</a> (double cur_time, const <a class="el" href="classshaka_1_1media_1_1BaseFrame.html">BaseFrame</a> *frame, <a class="el" href="classshaka_1_1eme_1_1Implementation.html">eme::Implementation</a> *cdm, std::vector&lt; std::unique_ptr&lt; <a class="el" href="classshaka_1_1media_1_1BaseFrame.html">BaseFrame</a> &gt;&gt; *decoded)</td></tr>
<tr class="separator:a7f16b930ff61cda40db244161bcee79b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf5fced70d9ea6b14846b5646a3ec22"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#a7cf5fced70d9ea6b14846b5646a3ec22">SetTimestampOffset</a> (double offset)</td></tr>
<tr class="separator:a7cf5fced70d9ea6b14846b5646a3ec22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a441e924d5eb371ceb489be35256daa"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#a8a441e924d5eb371ceb489be35256daa">ResetDecoder</a> ()</td></tr>
<tr class="separator:a8a441e924d5eb371ceb489be35256daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:af9a5e3427a21d882b2ae5b3a85387950"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#af9a5e3427a21d882b2ae5b3a85387950">container</a> () const</td></tr>
<tr class="separator:af9a5e3427a21d882b2ae5b3a85387950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae671418fac85556b74cd3e13b138dc9b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#ae671418fac85556b74cd3e13b138dc9b">codec</a> () const</td></tr>
<tr class="separator:ae671418fac85556b74cd3e13b138dc9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a67644f75f58fb7e6508f920ce4e28ff2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html#a67644f75f58fb7e6508f920ce4e28ff2">Initialize</a> ()</td></tr>
<tr class="separator:a67644f75f58fb7e6508f920ce4e28ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles processing the media frames. This includes demuxing media segments and decoding frames. This contains all the platform-specific code for processing media. This will handle processing of a single stream. A new instance should be created for different streams.</p>
<p>Methods may spawn worker threads for parallelization, but all methods return synchronously when work is complete. <a class="el" href="classshaka_1_1Any.html">Any</a> callbacks will be serialized to only be called on one thread at a time, but it may not be the thread that called the method.</p>
<p>This type is fully thread safe. But be sure to read the comments on each method for when each method can be called. </p>

<p>Definition at line <a class="el" href="media__processor_8h_source.html#l00049">49</a> of file <a class="el" href="media__processor_8h_source.html">media_processor.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8337308c137392f36c3e76afe4eb5d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8337308c137392f36c3e76afe4eb5d66">&sect;&nbsp;</a></span>MediaProcessor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shaka::media::MediaProcessor::MediaProcessor </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>codec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(<a class="el" href="group__eme.html#gadf03d085b5131351975708008dffeeac">eme::MediaKeyInitDataType</a>, const uint8_t *, size_t)&gt;&#160;</td>
          <td class="paramname"><em>on_encrypted_init_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="media__processor_8cc_source.html#l00757">757</a> of file <a class="el" href="media__processor_8cc_source.html">media_processor.cc</a>.</p>

</div>
</div>
<a id="a02249c1b936ffd91488814af51f1c499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02249c1b936ffd91488814af51f1c499">&sect;&nbsp;</a></span>~MediaProcessor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shaka::media::MediaProcessor::~MediaProcessor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="media__processor_8cc_source.html#l00762">762</a> of file <a class="el" href="media__processor_8cc_source.html">media_processor.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae671418fac85556b74cd3e13b138dc9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae671418fac85556b74cd3e13b138dc9b">&sect;&nbsp;</a></span>codec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string shaka::media::MediaProcessor::codec </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the codec/container that this processor is using. This should only be used for debugging and not presented to the user. This may be altered (e.g. converted to FFmpeg expected format), so it may be different than what was originally requested. </p>

<p>Definition at line <a class="el" href="media__processor_8cc_source.html#l00781">781</a> of file <a class="el" href="media__processor_8cc_source.html">media_processor.cc</a>.</p>

</div>
</div>
<a id="af9a5e3427a21d882b2ae5b3a85387950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9a5e3427a21d882b2ae5b3a85387950">&sect;&nbsp;</a></span>container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string shaka::media::MediaProcessor::container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the codec/container that this processor is using. This should only be used for debugging and not presented to the user. This may be altered (e.g. converted to FFmpeg expected format), so it may be different than what was originally requested. </p>

<p>Definition at line <a class="el" href="media__processor_8cc_source.html#l00777">777</a> of file <a class="el" href="media__processor_8cc_source.html">media_processor.cc</a>.</p>

</div>
</div>
<a id="a7f16b930ff61cda40db244161bcee79b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f16b930ff61cda40db244161bcee79b">&sect;&nbsp;</a></span>DecodeFrame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status shaka::media::MediaProcessor::DecodeFrame </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cur_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classshaka_1_1media_1_1BaseFrame.html">BaseFrame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classshaka_1_1eme_1_1Implementation.html">eme::Implementation</a> *&#160;</td>
          <td class="paramname"><em>cdm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::unique_ptr&lt; <a class="el" href="classshaka_1_1media_1_1BaseFrame.html">BaseFrame</a> &gt;&gt; *&#160;</td>
          <td class="paramname"><em>decoded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds the given frame to the decoder and decodes it into full frames. This may return no frames or multiple because of dependent frames. This can only be called after InitializeDecoder returns.</p>
<p>The frames MUST be given in DTS order. This will discard any frames until the first keyframe. If there is a seek, call ResetDecoder before giving the new frames.</p>
<p>If there is a decoder error, it is invalid to decode any more frames.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cur_time</td><td>The current playback time. </td></tr>
    <tr><td class="paramname">frame</td><td>The next encoded frame to decode. </td></tr>
    <tr><td class="paramname">cdm</td><td>The CDM used to decrypt protected frames. </td></tr>
    <tr><td class="paramname">decoded</td><td>[OUT] Will contain the decoded frames. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The error code, or Success. </dd></dl>

<p>Definition at line <a class="el" href="media__processor_8cc_source.html#l00799">799</a> of file <a class="el" href="media__processor_8cc_source.html">media_processor.cc</a>.</p>

</div>
</div>
<a id="abbeb7e55cba4de30727f23d1a877b71a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbeb7e55cba4de30727f23d1a877b71a">&sect;&nbsp;</a></span>duration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double shaka::media::MediaProcessor::duration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the duration of the media as defined by the most recent initialization segment received. This will return 0 if it is unknown or if we haven't received an init segment yet. </p>

<p>Definition at line <a class="el" href="media__processor_8cc_source.html#l00785">785</a> of file <a class="el" href="media__processor_8cc_source.html">media_processor.cc</a>.</p>

</div>
</div>
<a id="a67644f75f58fb7e6508f920ce4e28ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67644f75f58fb7e6508f920ce4e28ff2">&sect;&nbsp;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::MediaProcessor::Initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Performs any global initialization that is required (e.g. registering codecs). This can be called multiple times, but it must be called before any media objects are created. </p>

<p>Definition at line <a class="el" href="media__processor_8cc_source.html#l00765">765</a> of file <a class="el" href="media__processor_8cc_source.html">media_processor.cc</a>.</p>

</div>
</div>
<a id="a6a2101c5ec75a1f281fad4c0d1c8980e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a2101c5ec75a1f281fad4c0d1c8980e">&sect;&nbsp;</a></span>InitializeDemuxer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status shaka::media::MediaProcessor::InitializeDemuxer </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; size_t(uint8_t *, size_t)&gt;&#160;</td>
          <td class="paramname"><em>on_read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void()&gt;&#160;</td>
          <td class="paramname"><em>on_reset_read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes the demuxer. This will block until the init segment is read and processed. This method will call |on_read| to get the init segment. Then this will store |on_read| to be called later to read data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">on_read</td><td>A callback that will read from the source. </td></tr>
    <tr><td class="paramname">on_reset_read</td><td>A callback that will be called to reset the current read position inside the current segment. The caller should resend the data for the current segment on the next read. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="media__processor_8cc_source.html#l00789">789</a> of file <a class="el" href="media__processor_8cc_source.html">media_processor.cc</a>.</p>

</div>
</div>
<a id="a7c69449ef9837c20d4017506d5262bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c69449ef9837c20d4017506d5262bcc">&sect;&nbsp;</a></span>NON_COPYABLE_OR_MOVABLE_TYPE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shaka::media::MediaProcessor::NON_COPYABLE_OR_MOVABLE_TYPE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classshaka_1_1media_1_1MediaProcessor.html">MediaProcessor</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7c7bf169ce903818f2467b078edd77ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c7bf169ce903818f2467b078edd77ac">&sect;&nbsp;</a></span>ReadDemuxedFrame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status shaka::media::MediaProcessor::ReadDemuxedFrame </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classshaka_1_1media_1_1BaseFrame.html">BaseFrame</a> &gt; *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads the next demuxed (encoded) frame. This blocks until the next frame is received, or EOF is reached. This calls the |on_read| given to InitializeDemuxer to read data. This can only be called after InitializeDemuxer returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>[OUT] Will contain the next demuxed frame. Not changed on errors </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="media__processor_8cc_source.html#l00795">795</a> of file <a class="el" href="media__processor_8cc_source.html">media_processor.cc</a>.</p>

</div>
</div>
<a id="a8a441e924d5eb371ceb489be35256daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a441e924d5eb371ceb489be35256daa">&sect;&nbsp;</a></span>ResetDecoder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::MediaProcessor::ResetDecoder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called when seeking to reset the decoder. This is different than adaptation since it will discard any un-flushed frames. </p>

<p>Definition at line <a class="el" href="media__processor_8cc_source.html#l00809">809</a> of file <a class="el" href="media__processor_8cc_source.html">media_processor.cc</a>.</p>

</div>
</div>
<a id="a7cf5fced70d9ea6b14846b5646a3ec22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cf5fced70d9ea6b14846b5646a3ec22">&sect;&nbsp;</a></span>SetTimestampOffset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::media::MediaProcessor::SetTimestampOffset </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the offset, in seconds, to adjust timestamps in the demuxer. </p>

<p>Definition at line <a class="el" href="media__processor_8cc_source.html#l00805">805</a> of file <a class="el" href="media__processor_8cc_source.html">media_processor.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>shaka/src/media/<a class="el" href="media__processor_8h_source.html">media_processor.h</a></li>
<li>shaka/src/media/<a class="el" href="media__processor_8cc_source.html">media_processor.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
